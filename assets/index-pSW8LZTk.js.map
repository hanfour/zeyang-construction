{"version":3,"file":"index-pSW8LZTk.js","sources":["../../src/pages/Login/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { Helmet } from 'react-helmet-async';\nimport { EyeIcon, EyeSlashIcon } from '@heroicons/react/24/outline';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { LoginFormData } from '@/types';\nimport toast from 'react-hot-toast';\n\nconst LoginPage: React.FC = () => {\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  \n  const from = location.state?.from?.pathname || '/admin/dashboard';\n  \n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginFormData>();\n\n  const onSubmit = async (data: LoginFormData) => {\n    setIsLoading(true);\n    try {\n      await login(data);\n      navigate(from, { replace: true });\n    } catch (error: any) {\n      const message = error.response?.data?.message || '登入失敗，請檢查帳號密碼';\n      toast.error(message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>登入 - ZeYang</title>\n      </Helmet>\n      \n      <div className=\"min-h-screen flex\">\n        {/* Left side - Login form */}\n        <div className=\"flex-1 flex flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24\">\n          <div className=\"mx-auto w-full max-w-sm lg:w-96\">\n            <div>\n              <Link to=\"/\" className=\"text-3xl font-bold text-primary-600\">\n                澤暘建設\n              </Link>\n              <h2 className=\"mt-6 text-3xl font-bold tracking-tight text-gray-900\">\n                登入您的帳號\n              </h2>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                請輸入您的帳號密碼以存取管理後台\n              </p>\n            </div>\n\n            <div className=\"mt-8\">\n              <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n                <div>\n                  <label htmlFor=\"username\" className=\"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider\">\n                    帳號\n                  </label>\n                  <div className=\"relative\">\n                    <div className=\"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more\"></div>\n                    <input\n                      {...register('username', { required: '請輸入帳號' })}\n                      type=\"text\"\n                      autoComplete=\"username\"\n                      className=\"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none\"\n                      placeholder=\"請輸入帳號或 Email\"\n                    />\n                  </div>\n                  {errors.username && (\n                    <p className=\"mt-2 text-sm text-red-600\">{errors.username.message}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label htmlFor=\"password\" className=\"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider\">\n                    密碼\n                  </label>\n                  <div className=\"relative\">\n                    <div className=\"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more\"></div>\n                    <input\n                      {...register('password', { required: '請輸入密碼' })}\n                      type={showPassword ? 'text' : 'password'}\n                      autoComplete=\"current-password\"\n                      className=\"w-full h-12 !pr-12 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none\"\n                      placeholder=\"請輸入密碼\"\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"absolute inset-y-0 right-0 pr-4 flex items-center\"\n                      onClick={() => setShowPassword(!showPassword)}\n                    >\n                      {showPassword ? (\n                        <EyeSlashIcon className=\"h-5 w-5 text-primary-more\" />\n                      ) : (\n                        <EyeIcon className=\"h-5 w-5 text-primary-more\" />\n                      )}\n                    </button>\n                  </div>\n                  {errors.password && (\n                    <p className=\"mt-2 text-sm text-red-600\">{errors.password.message}</p>\n                  )}\n                </div>\n\n                <div>\n                  <button\n                    type=\"submit\"\n                    disabled={isLoading}\n                    className=\"bg-primary-more text-white w-full px-16 py-4 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {isLoading ? '登入中...' : '登入'}\n                  </button>\n                </div>\n              </form>\n\n              <div className=\"mt-6\">\n                <p className=\"text-sm text-gray-600 text-center\">\n                  預設管理員帳號：admin / admin123\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Right side - Image */}\n        <div className=\"hidden lg:block relative w-0 flex-1\">\n          <img\n            className=\"absolute inset-0 h-full w-full object-cover\"\n            src=\"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1073&q=80\"\n            alt=\"Modern building\"\n          />\n          <div className=\"absolute inset-0 bg-primary-900 bg-opacity-40\" />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LoginPage;"],"names":["LoginPage","showPassword","setShowPassword","useState","isLoading","setIsLoading","login","useAuth","navigate","useNavigate","from","_b","_a","useLocation","register","handleSubmit","errors","useForm","onSubmit","data","error","message","toast","jsxs","Fragment","jsx","Helmet","Link","EyeSlashIcon","EyeIcon"],"mappings":"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"}