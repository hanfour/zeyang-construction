var O=r=>{throw TypeError(r)};var S=(r,t,s)=>t.has(r)||O("Cannot "+s);var i=(r,t,s)=>(S(r,t,"read from private field"),s?s.call(r):t.get(r)),y=(r,t,s)=>t.has(r)?O("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),N=(r,t,s,n)=>(S(r,t,"write to private field"),n?n.call(r,s):t.set(r,s),s),w=(r,t,s)=>(S(r,t,"access private method"),s);import{S as H,s as I,h as q,g as U,n as F,u as Y,r as u,a as Z,b as _,d as $,j as e,H as G,M as Q,N as W,c as L}from"./index-By57yhN3.js";import{u as D}from"./index.esm-8X7De2ne.js";import{P as J}from"./PageBanner-h9Zt4JHM.js";import{c as V}from"./contact.service-vAsoKIKo.js";var f,v,d,p,b,k,M,R,X=(R=class extends H{constructor(t,s){super();y(this,b);y(this,f);y(this,v);y(this,d);y(this,p);N(this,f,t),this.setOptions(s),this.bindMethods(),w(this,b,k).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const s=this.options;this.options=i(this,f).defaultMutationOptions(t),I(this.options,s)||i(this,f).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,d),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&q(s.mutationKey)!==q(this.options.mutationKey)?this.reset():((n=i(this,d))==null?void 0:n.state.status)==="pending"&&i(this,d).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,d))==null||t.removeObserver(this)}onMutationUpdate(t){w(this,b,k).call(this),w(this,b,M).call(this,t)}getCurrentResult(){return i(this,v)}reset(){var t;(t=i(this,d))==null||t.removeObserver(this),N(this,d,void 0),w(this,b,k).call(this),w(this,b,M).call(this)}mutate(t,s){var n;return N(this,p,s),(n=i(this,d))==null||n.removeObserver(this),N(this,d,i(this,f).getMutationCache().build(i(this,f),this.options)),i(this,d).addObserver(this),i(this,d).execute(t)}},f=new WeakMap,v=new WeakMap,d=new WeakMap,p=new WeakMap,b=new WeakSet,k=function(){var s;const t=((s=i(this,d))==null?void 0:s.state)??U();N(this,v,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},M=function(t){F.batch(()=>{var s,n,a,h,o,m,j,c;if(i(this,p)&&this.hasListeners()){const x=i(this,v).variables,g=i(this,v).context;(t==null?void 0:t.type)==="success"?((n=(s=i(this,p)).onSuccess)==null||n.call(s,t.data,x,g),(h=(a=i(this,p)).onSettled)==null||h.call(a,t.data,null,x,g)):(t==null?void 0:t.type)==="error"&&((m=(o=i(this,p)).onError)==null||m.call(o,t.error,x,g),(c=(j=i(this,p)).onSettled)==null||c.call(j,void 0,t.error,x,g))}this.listeners.forEach(x=>{x(i(this,v))})})},R);function ee(r,t){const s=Y(),[n]=u.useState(()=>new X(s,r));u.useEffect(()=>{n.setOptions(r)},[n,r]);const a=u.useSyncExternalStore(u.useCallback(o=>n.subscribe(F.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),h=u.useCallback((o,m)=>{n.mutate(o,m).catch(Z)},[n]);if(a.error&&_(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:h,mutateAsync:a.mutate}}const te=({isOpen:r,onClose:t,title:s="成功",message:n,autoCloseDelay:a=1500,showCloseButton:h=!0})=>{if(u.useEffect(()=>{if(r&&a>0){const m=setTimeout(()=>{t()},a);return()=>clearTimeout(m)}},[r,a,t]),u.useEffect(()=>{const m=j=>{j.key==="Escape"&&t()};return r&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[r,t]),!r)return null;const o=e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto transform transition-all",children:[e.jsx("div",{className:"flex items-center justify-center pt-8 pb-4",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),e.jsxs("div",{className:"px-6 pb-6 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:s}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n}),h&&e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:t,className:"w-full bg-primary-more text-white px-6 py-3 rounded-md text-sm font-medium hover:bg-opacity-90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-more focus:ring-offset-2",children:"確認"})})]}),a>0&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b-lg overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-more rounded-b-lg transition-all ease-linear animate-shrink",style:{animationDuration:`${a}ms`,animationFillMode:"forwards"}})})]})]});return $.createPortal(o,document.body)},ae=()=>{const[r,t]=u.useState(!1),[s,n]=u.useState(0),[a,h]=u.useState(!1),{register:o,handleSubmit:m,reset:j,formState:{errors:c,isSubmitting:x}}=D();u.useEffect(()=>{const l=()=>n(window.scrollY);return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[]);const g=ee({mutationFn:V.createContact,onSuccess:l=>{l.success?(h(!0),j()):L.error(l.message||"送出失敗，請稍後再試")},onError:l=>{var E,C;console.error("Contact form submission error:",l);const z=((C=(E=l==null?void 0:l.response)==null?void 0:E.data)==null?void 0:C.message)||"送出失敗，請稍後再試";L.error(z)}}),A=async l=>{await g.mutateAsync(l)},B=[{value:"",label:"請選擇"},{value:"male",label:"男"},{value:"female",label:"女"},{value:"other",label:"其他"}],P=[{value:"",label:"請選擇"},{value:"建案諮詢",label:"建案諮詢"},{value:"土地開發",label:"土地開發"},{value:"都更合建",label:"都更合建"},{value:"其他問題",label:"其他問題"}],K=288,T={logoSection:{iconSrc:"/images/logo-icon-brand.svg",iconAlt:"澤暘建設",subtitle:"CONTACT US",title:"聯絡我們"},centralContent:{text:`您好，若您有任何需要服務的地方，
歡迎撥打服務專線或填寫下列表格並送出，我們將盡快與您聯絡！謝謝！`},backgroundImage:"/images/contact/top-bn-contact.jpg"};return e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx("title",{children:"聯絡我們 - 澤暘建設"}),e.jsx("meta",{name:"description",content:"澤暘建設提供專業建案諮詢、購屋需求規劃、土地開發與都更合建服務。立即聯絡我們，為您的理想家園與土地價值打造最佳方案。"})]}),e.jsxs(J,{config:T,children:[e.jsx(Q,{isOpen:r,onClick:()=>t(!r),color:s>K?"dark":"light"}),e.jsx(W,{isOpen:r,onClose:()=>t(!1)})]}),e.jsx("section",{className:"py-16 md:py-24 bg-[url('/images/contact/form-bg.png')] bg-cover bg-center",children:e.jsx("div",{className:"container mx-auto px-6 lg:px-8",children:e.jsx("div",{className:"max-w-3xl mx-auto bg-white p-8 md:p-12 shadow-lg",children:e.jsxs("form",{onSubmit:m(A),children:[e.jsxs("div",{className:"grid md:grid-cols-2 md:gap-8 h-full",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"姓名"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"text",id:"name",...o("name",{required:"請輸入姓名"}),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:""})]}),c.name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gender",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"性別"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("select",{id:"gender",...o("gender",{required:"請選擇性別"}),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none appearance-none",children:B.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-primary-more",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.gender&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.gender.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"聯絡電話"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"tel",id:"phone",...o("phone",{required:"請輸入聯絡電話"}),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:""})]}),c.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"電子信箱"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"email",id:"email",...o("email",{required:"請輸入電子信箱",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"請輸入有效的電子信箱"}}),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:""})]}),c.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.email.message})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"requirement",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"需求項目"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("select",{id:"requirement",...o("requirement",{required:"請選擇需求項目"}),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none appearance-none",children:P.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-primary-more",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.requirement&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.requirement.message})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("label",{htmlFor:"message",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"諮詢內容"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("textarea",{id:"message",...o("message",{required:"請輸入諮詢內容"}),className:"w-full h-full px-4 py-3 pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none resize-none",placeholder:""})]}),c.message&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.message.message})]})]})]}),e.jsx("div",{className:"flex justify-center pt-8",children:e.jsx("button",{type:"submit",disabled:x||g.isPending,className:"bg-primary-more text-white min-w-[320px] px-16 py-4 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x||g.isPending?"送出中...":"送出"})})]})})})}),e.jsx(te,{isOpen:a,onClose:()=>h(!1),title:"訊息已送出",message:"您的訊息已成功送出，我們會盡快與您聯繫！",autoCloseDelay:1500,showCloseButton:!0})]})};export{ae as default};
//# sourceMappingURL=index-9SUpn3MM.js.map
