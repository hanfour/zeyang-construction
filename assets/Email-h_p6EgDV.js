import{r as n,C as x,V as c,j as e,l as w,k as $,A as N}from"./index-By57yhN3.js";import{F as q}from"./EyeSlashIcon-Bv4i0BR-.js";import{F as O}from"./EyeIcon-12aYC9kG.js";import{F as M}from"./CheckCircleIcon-FQWdJK1s.js";function Y({title:t,titleId:a,...m},p){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":a},m),t?n.createElement("title",{id:a},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const _=n.forwardRef(Y);function Z({title:t,titleId:a,...m},p){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":a},m),t?n.createElement("title",{id:a},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const G=n.forwardRef(Z);class A{async getSettings(a){const m=a?`?category=${a}`:"";return x.get(`/settings${m}`)}async getSetting(a){return x.get(`/settings/${a}`)}async updateSettings(a){return x.put("/settings",{settings:a})}async getEmailSettings(){return x.get("/settings/category/email")}async updateEmailSettings(a){return x.put("/settings/category/email",a)}async testSmtpConnection(){return x.post("/settings/smtp/test")}async deleteEmailSettings(){return x.delete("/settings/category/email")}}const j=new A,V=()=>{const[t,a]=n.useState({smtp_enabled:!1,smtp_host:"",smtp_port:587,smtp_secure:!1,smtp_username:"",smtp_password:"",smtp_from_email:"",smtp_from_name:"ZeYang",admin_notification_emails:"",send_admin_notifications:!0,send_user_confirmations:!0}),[m,p]=n.useState(!0),[k,S]=n.useState(!1),[C,F]=n.useState(!1),[v,P]=n.useState(!1),[h,g]=n.useState(null),[f,u]=n.useState(!1);n.useEffect(()=>{E()},[]);const E=async()=>{try{p(!0);const s=await j.getEmailSettings();if(s.success&&s.data){const l={};Object.entries(s.data).forEach(([d,y])=>{d in t&&(l[d]=y.value)}),a(d=>({...d,...l})),u(["smtp.gmail.com","smtp-mail.outlook.com","smtp.mail.yahoo.com"].includes(l.smtp_host||""))}}catch(s){c.error("無法載入郵件設定"),console.error("Settings fetch error:",s)}finally{p(!1)}},L=async s=>{s.preventDefault();try{S(!0),await j.updateEmailSettings(t),c.success("郵件設定已更新")}catch(l){c.error("更新設定失敗"),console.error("Settings update error:",l)}finally{S(!1)}},R=async()=>{var s,l,b,d,y;try{F(!0),g(null),await j.updateEmailSettings(t);const i=await j.testSmtpConnection();i.success?(g({success:!0,message:((s=i.data)==null?void 0:s.message)||"SMTP 連線測試成功"}),c.success("SMTP 連線測試成功")):(g({success:!1,message:typeof i.error=="string"?i.error:((l=i.error)==null?void 0:l.details)||((b=i.error)==null?void 0:b.code)||"SMTP 連線測試失敗"}),c.error("SMTP 連線測試失敗"))}catch(i){const o=(y=(d=i.response)==null?void 0:d.data)==null?void 0:y.error,T=typeof o=="string"?o:(o==null?void 0:o.details)||(o==null?void 0:o.code)||i.message||"SMTP 連線測試失敗";g({success:!1,message:T}),c.error(T)}finally{F(!1)}},r=(s,l)=>{a(b=>({...b,[s]:l})),s==="smtp_host"&&u(["smtp.gmail.com","smtp-mail.outlook.com","smtp.mail.yahoo.com"].includes(l)),h&&g(null)},H=async()=>{try{if(!window.confirm("確定要刪除所有郵件設定嗎？此操作無法復原。"))return;await j.deleteEmailSettings(),a(s=>({...s,smtp_enabled:!1,smtp_host:"",smtp_port:587,smtp_secure:!1,smtp_username:"",smtp_password:"",smtp_from_email:"",smtp_from_name:"ZeYang",admin_notification_emails:"",send_admin_notifications:!0,send_user_confirmations:!0})),u(!1),g(null),c.success("郵件設定已從資料庫中刪除")}catch(s){c.error("刪除設定失敗"),console.error("Delete settings error:",s)}};return m?e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx(w,{size:"large"})}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"郵件設定"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"設定 SMTP 伺服器以發送聯絡表單通知和回覆"})]}),e.jsxs("form",{onSubmit:L,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-6 w-6 text-primary-600 mr-2"}),e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"SMTP 郵件發送"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"smtp_enabled",checked:t.smtp_enabled||!1,onChange:s=>r("smtp_enabled",s.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"smtp_enabled",className:"ml-2 text-sm font-medium text-gray-700",children:"啟用 SMTP 郵件發送"})]})]}),!t.smtp_enabled&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(_,{className:"h-5 w-5 text-yellow-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"SMTP 功能已停用。聯絡表單仍會儲存到資料庫，但不會發送郵件通知。"})})]})})]}),t.smtp_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-blue-900 mb-4",children:"📧 常用郵件服務設定指引"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"🔵 Gmail"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"主機："})," smtp.gmail.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"連接埠："})," 587 (TLS) 或 465 (SSL)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"安全連線："})," ✅ 啟用"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"使用者名稱："})," 完整Gmail地址"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"密碼："})," 應用程式密碼"]})]}),e.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"設定步驟："}),e.jsx("br",{}),"1. Gmail設定 → 帳戶與匯入",e.jsx("br",{}),"2. 啟用兩步驟驗證",e.jsx("br",{}),"3. 產生應用程式密碼",e.jsx("br",{}),"4. 選擇「郵件」類型"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"🟦 Outlook"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"主機："})," smtp-mail.outlook.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"連接埠："})," 587"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"安全連線："})," ✅ 啟用 (STARTTLS)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"使用者名稱："})," 完整Outlook地址"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"密碼："})," 應用程式密碼"]})]}),e.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"設定步驟："}),e.jsx("br",{}),"1. account.microsoft.com",e.jsx("br",{}),"2. 安全性 → 進階安全性",e.jsx("br",{}),"3. 應用程式密碼",e.jsx("br",{}),"4. 建立新的應用程式密碼"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"🟣 Yahoo"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"主機："})," smtp.mail.yahoo.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"連接埠："})," 587 或 465"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"安全連線："})," ✅ 啟用"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"使用者名稱："})," 完整Yahoo地址"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"密碼："})," 應用程式密碼"]})]}),e.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"設定步驟："}),e.jsx("br",{}),"1. Yahoo帳戶安全性",e.jsx("br",{}),"2. 產生應用程式密碼",e.jsx("br",{}),"3. 選擇「其他應用程式」",e.jsx("br",{}),"4. 輸入自訂名稱產生"]})})]})]}),e.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🔧 其他常用服務商設定"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"QQ郵箱："})," smtp.qq.com:587 (需開啟SMTP)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"163郵箱："})," smtp.163.com:465/994 (需授權碼)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"126郵箱："})," smtp.126.com:465/994 (需授權碼)"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"企業郵箱："})," 聯絡IT部門取得SMTP設定"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"自架伺服器："})," 使用您的郵件伺服器設定"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"第三方服務："})," SendGrid, Mailgun等"]})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(_,{className:"h-5 w-5 text-amber-400 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"重要提醒"}),e.jsx("div",{className:"mt-1 text-sm text-amber-700",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"絕對不要使用您的一般登入密碼"}),e.jsx("li",{children:"必須先啟用兩步驟驗證才能產生應用程式密碼"}),e.jsx("li",{children:"應用程式密碼通常是 16 位字元，包含英文和數字"}),e.jsx("li",{children:"建議先測試連線確保設定正確"})]})})]})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"h-6 w-6 text-primary-600 mr-2"}),e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"SMTP 伺服器設定"})]}),e.jsxs("button",{type:"button",onClick:H,className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-sm font-medium rounded text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"刪除設定"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"smtp_host",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:["SMTP 主機 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"text",id:"smtp_host",value:t.smtp_host||"",onChange:s=>r("smtp_host",s.target.value),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:"例如: smtp.gmail.com",required:!0})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{r("smtp_host","smtp.gmail.com"),r("smtp_port",587),r("smtp_secure",!1),u(!0)},className:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Gmail"}),e.jsx("button",{type:"button",onClick:()=>{r("smtp_host","smtp-mail.outlook.com"),r("smtp_port",587),r("smtp_secure",!1),u(!0)},className:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Outlook"}),e.jsx("button",{type:"button",onClick:()=>{r("smtp_host","smtp.mail.yahoo.com"),r("smtp_port",587),r("smtp_secure",!1),u(!0)},className:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Yahoo"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"smtp_port",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:["連接埠 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"number",id:"smtp_port",value:t.smtp_port||587,onChange:s=>r("smtp_port",parseInt(s.target.value)),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",min:"1",max:"65535",required:!0})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"常用埠號: 587 (TLS), 465 (SSL), 25 (不安全)"})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"smtp_secure",checked:t.smtp_secure||!1,onChange:s=>r("smtp_secure",s.target.checked),disabled:f,className:N("rounded border-gray-300 text-primary-600 focus:ring-primary-500",f&&"opacity-50 cursor-not-allowed")}),e.jsx("label",{htmlFor:"smtp_secure",className:N("ml-2 text-sm font-medium",f?"text-gray-400":"text-gray-700"),children:"使用安全連線 (TLS/SSL)"}),f&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(預設服務商自動設定)"})]})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"smtp_username",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:["使用者名稱 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"text",id:"smtp_username",value:t.smtp_username||"",onChange:s=>r("smtp_username",s.target.value),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:"郵件帳號",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"smtp_password",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:["密碼 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:v?"text":"password",id:"smtp_password",value:t.smtp_password||"",onChange:s=>r("smtp_password",s.target.value),className:"w-full h-12 !pr-12 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:"應用程式密碼（不是登入密碼）",required:!0}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>P(!v),children:v?e.jsx(q,{className:"h-5 w-5 text-primary-more"}):e.jsx(O,{className:"h-5 w-5 text-primary-more"})})]}),e.jsxs("p",{className:"mt-1 text-sm text-amber-600",children:[e.jsx("strong",{children:"重要："}),"Gmail 和 Outlook 需要使用「應用程式密碼」，不是您的一般登入密碼"]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"寄件人設定"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"smtp_from_email",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:["寄件人信箱 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"email",id:"smtp_from_email",value:t.smtp_from_email||"",onChange:s=>r("smtp_from_email",s.target.value),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:"noreply@yourdomain.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"smtp_from_name",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"寄件人名稱"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"text",id:"smtp_from_name",value:t.smtp_from_name||"",onChange:s=>r("smtp_from_name",s.target.value),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:"ZeYang"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"通知設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin_notification_emails",className:"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider",children:"管理員通知信箱"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more"}),e.jsx("input",{type:"text",id:"admin_notification_emails",value:t.admin_notification_emails||"",onChange:s=>r("admin_notification_emails",s.target.value),className:"w-full h-12 !pr-4 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none",placeholder:"admin@yourdomain.com, manager@yourdomain.com"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"多個信箱請用逗號分隔，留空將不發送管理員通知"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"send_admin_notifications",checked:t.send_admin_notifications||!1,onChange:s=>r("send_admin_notifications",s.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"send_admin_notifications",className:"ml-2 text-sm font-medium text-gray-700",children:"發送新聯絡表單通知給管理員"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"send_user_confirmations",checked:t.send_user_confirmations||!1,onChange:s=>r("send_user_confirmations",s.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"send_user_confirmations",className:"ml-2 text-sm font-medium text-gray-700",children:"發送確認郵件給用戶"})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"連線測試"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"測試 SMTP 設定是否正確，將會先儲存設定然後進行連線測試"}),e.jsx("button",{type:"button",onClick:R,disabled:C||!t.smtp_host||!t.smtp_username||!t.smtp_password,className:"flex justify-center items-center bg-green-600 text-white px-4 py-3 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx(w,{size:"small",className:"mr-2"}),"測試中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"測試連線"]})})]}),h&&e.jsx("div",{className:N("mt-4 p-4 rounded-md",h.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:e.jsxs("div",{className:"flex",children:[h.success?e.jsx(M,{className:"h-5 w-5 text-green-400"}):e.jsx(_,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:N("text-sm",h.success?"text-green-700":"text-red-700"),children:h.message})})]})})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",disabled:k,className:"bg-primary-more text-white px-16 py-4 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:k?e.jsxs(e.Fragment,{children:[e.jsx(w,{size:"small",className:"mr-2"}),"儲存中..."]}):"儲存設定"})})]})]})};export{V as default};
//# sourceMappingURL=Email-h_p6EgDV.js.map
