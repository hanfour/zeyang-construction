{"version":3,"file":"index-B6jvgnDw.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/ChatBubbleLeftRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentArrowDownIcon.js","../../node_modules/@heroicons/react/24/outline/esm/EnvelopeOpenIcon.js","../../node_modules/@heroicons/react/24/outline/esm/FunnelIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PhoneIcon.js","../../src/pages/Admin/Contacts/index.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction ChatBubbleLeftRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChatBubbleLeftRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentArrowDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentArrowDownIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EnvelopeOpenIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21.75 9v.906a2.25 2.25 0 0 1-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 0 0 1.183 1.981l6.478 3.488m8.839 2.51-4.66-2.51m0 0-1.023-.55a2.25 2.25 0 0 0-2.134 0l-1.022.55m0 0-4.661 2.51m16.5 1.615a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V8.844a2.25 2.25 0 0 1 1.183-1.981l7.5-4.039a2.25 2.25 0 0 1 2.134 0l7.5 4.039a2.25 2.25 0 0 1 1.183 1.98V19.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EnvelopeOpenIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction FunnelIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(FunnelIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PhoneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PhoneIcon);\nexport default ForwardRef;","import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport {\n  EnvelopeIcon,\n  EnvelopeOpenIcon,\n  PhoneIcon,\n  BuildingOfficeIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  DocumentArrowDownIcon,\n  TrashIcon,\n  ChatBubbleLeftRightIcon,\n} from '@heroicons/react/24/outline';\nimport { Dialog } from '@headlessui/react';\nimport contactService from '@/services/contact.service';\nimport LoadingSpinner from '@/components/Common/LoadingSpinner';\nimport { Contact, ContactFilters } from '@/types';\nimport toast from 'react-hot-toast';\nimport clsx from 'clsx';\n\nconst AdminContacts: React.FC = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [contacts, setContacts] = useState<Contact[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [totalPages, setTotalPages] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState<'all' | 'unread' | 'replied'>('all');\n  const [selectedContacts, setSelectedContacts] = useState<number[]>([]);\n  const [viewingContact, setViewingContact] = useState<Contact | null>(null);\n  const [deleteConfirmIds, setDeleteConfirmIds] = useState<number[]>([]);\n  const [notes, setNotes] = useState('');\n  const [replyingContact, setReplyingContact] = useState<Contact | null>(null);\n  const [replyMessage, setReplyMessage] = useState('');\n  const [replyNotes, setReplyNotes] = useState('');\n  const [archiveConfirmOpen, setArchiveConfirmOpen] = useState(false);\n  const [archiveTargetIds, setArchiveTargetIds] = useState<number[]>([]);\n\n  useEffect(() => {\n    const filters: ContactFilters = {\n      page: Number(searchParams.get('page')) || 1,\n      search: searchParams.get('search') || undefined,\n      is_read: searchParams.get('status') === 'unread' ? false : undefined,\n      is_replied: searchParams.get('status') === 'replied' ? true : undefined,\n    };\n\n    setCurrentPage(filters.page || 1);\n    setSearchTerm(filters.search || '');\n    \n    if (searchParams.get('status') === 'unread') {\n      setFilterStatus('unread');\n    } else if (searchParams.get('status') === 'replied') {\n      setFilterStatus('replied');\n    } else {\n      setFilterStatus('all');\n    }\n\n    fetchContacts(filters);\n  }, [searchParams]);\n\n  const fetchContacts = async (filters: ContactFilters) => {\n    try {\n      setLoading(true);\n      const response = await contactService.getContacts({\n        ...filters,\n        limit: 20,\n        orderBy: 'created_at',\n        orderDir: 'DESC',\n      });\n\n      if (response.success && response.data) {\n        setContacts(response.data.items);\n        setTotalPages(response.data.pagination.pages);\n      }\n    } catch (error) {\n      toast.error('無法載入聯絡表單');\n      console.error('Contacts fetch error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateFilters = (newFilters: Partial<ContactFilters> & { status?: string }) => {\n    const params = new URLSearchParams();\n    \n    const filters = {\n      page: currentPage,\n      search: searchTerm,\n      status: filterStatus === 'all' ? undefined : filterStatus,\n      ...newFilters,\n    };\n\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value && value !== '') {\n        params.set(key, String(value));\n      }\n    });\n\n    setSearchParams(params);\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    updateFilters({ search: searchTerm, page: 1 });\n  };\n\n  const handleStatusFilter = (status: 'all' | 'unread' | 'replied') => {\n    setFilterStatus(status);\n    updateFilters({ status, page: 1 });\n  };\n\n  const handleView = async (contact: Contact) => {\n    setViewingContact(contact);\n    setNotes(contact.notes || '');\n    \n    if (!contact.is_read) {\n      try {\n        await contactService.markAsRead(contact.id);\n        setContacts(contacts.map(c => \n          c.id === contact.id ? { ...c, is_read: true } : c\n        ));\n      } catch (error) {\n        console.error('Failed to mark as read:', error);\n      }\n    }\n  };\n\n  const handleUpdateNotes = async () => {\n    if (!viewingContact) return;\n\n    try {\n      await contactService.updateNotes(viewingContact.id, notes);\n      toast.success('備註已更新');\n      setContacts(contacts.map(c => \n        c.id === viewingContact.id ? { ...c, notes } : c\n      ));\n      setViewingContact({ ...viewingContact, notes });\n    } catch (error) {\n      toast.error('更新備註失敗');\n    }\n  };\n\n  const handleReply = (contact: Contact) => {\n    setReplyingContact(contact);\n    setReplyMessage('');\n    setReplyNotes('');\n  };\n\n  const handleSendReply = async () => {\n    if (!replyingContact || !replyMessage.trim()) {\n      toast.error('請輸入回覆內容');\n      return;\n    }\n\n    try {\n      await contactService.replyToContact(replyingContact.id, {\n        message: replyMessage,\n        notes: replyNotes\n      });\n      \n      toast.success('回覆已發送');\n      \n      // Update the contact in the list\n      setContacts(contacts.map(c => \n        c.id === replyingContact.id \n          ? { ...c, is_replied: true, replied_at: new Date().toISOString(), notes: replyNotes || c.notes }\n          : c\n      ));\n      \n      // Update viewing contact if it's the same one\n      if (viewingContact?.id === replyingContact.id) {\n        setViewingContact({ \n          ...viewingContact, \n          is_replied: true, \n          replied_at: new Date().toISOString(),\n          notes: replyNotes || viewingContact.notes\n        });\n      }\n      \n      setReplyingContact(null);\n      setReplyMessage('');\n      setReplyNotes('');\n    } catch (error) {\n      toast.error('發送回覆失敗');\n      console.error('Reply error:', error);\n    }\n  };\n\n  const handleMarkAsReplied = async (id: number) => {\n    try {\n      await contactService.markAsReplied(id);\n      toast.success('已標記為已回覆');\n      setContacts(contacts.map(c => \n        c.id === id ? { ...c, is_replied: true, replied_at: new Date().toISOString() } : c\n      ));\n      if (viewingContact?.id === id) {\n        setViewingContact({ ...viewingContact, is_replied: true, replied_at: new Date().toISOString() });\n      }\n    } catch (error) {\n      console.error('Mark as replied error:', error);\n      toast.error(`操作失敗: ${error instanceof Error ? error.message : '未知錯誤'}`);\n    }\n  };\n\n  const handleDelete = (ids: number[]) => {\n    setArchiveTargetIds(ids);\n    setArchiveConfirmOpen(true);\n  };\n\n  const confirmArchive = async () => {\n    try {\n      if (archiveTargetIds.length === 1) {\n        await contactService.deleteContact(archiveTargetIds[0]);\n      } else {\n        await contactService.bulkDelete(archiveTargetIds);\n      }\n      \n      toast.success(`已封存 ${archiveTargetIds.length} 個聯絡表單`);\n      setContacts(contacts.filter(c => !archiveTargetIds.includes(c.id)));\n      setSelectedContacts([]);\n      \n      if (viewingContact && archiveTargetIds.includes(viewingContact.id)) {\n        setViewingContact(null);\n      }\n    } catch (error) {\n      toast.error('封存失敗');\n    } finally {\n      setArchiveConfirmOpen(false);\n      setArchiveTargetIds([]);\n    }\n  };\n\n  const handleBulkMarkAsRead = async () => {\n    if (selectedContacts.length === 0) return;\n\n    try {\n      await contactService.bulkMarkAsRead(selectedContacts);\n      toast.success(`已將 ${selectedContacts.length} 個表單標記為已讀`);\n      setContacts(contacts.map(c => \n        selectedContacts.includes(c.id) ? { ...c, is_read: true } : c\n      ));\n      setSelectedContacts([]);\n    } catch (error) {\n      toast.error('操作失敗');\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      const blob = await contactService.exportContacts({\n        is_read: filterStatus === 'unread' ? false : undefined,\n        is_replied: filterStatus === 'replied' ? true : undefined,\n        search: searchTerm || undefined,\n      });\n      \n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `contacts-${new Date().toISOString().split('T')[0]}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n      \n      toast.success('匯出成功');\n    } catch (error) {\n      toast.error('匯出失敗');\n    }\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedContacts.length === contacts.length) {\n      setSelectedContacts([]);\n    } else {\n      setSelectedContacts(contacts.map(c => c.id));\n    }\n  };\n\n  if (loading && contacts.length === 0) {\n    return (\n      <div className=\"flex justify-center items-center min-h-[60vh]\">\n        <LoadingSpinner size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"sm:flex sm:items-center sm:justify-between mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">聯絡表單管理</h1>\n          <p className=\"mt-2 text-gray-600\">查看和管理網站聯絡表單</p>\n        </div>\n        <button\n          onClick={handleExport}\n          className=\"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n        >\n          <DocumentArrowDownIcon className=\"h-5 w-5 mr-2\" />\n          匯出 CSV\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white shadow rounded-lg p-6 mb-6\">\n        <div className=\"space-y-4\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <form onSubmit={handleSearch} className=\"flex-1\">\n              <div className=\"relative\">\n                <div className=\"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more\"></div>\n                <input\n                  type=\"text\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full h-12 !pr-12 !pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none\"\n                  placeholder=\"搜尋姓名、Email、電話...\"\n                />\n                <div className=\"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none\">\n                  <MagnifyingGlassIcon className=\"h-5 w-5 text-primary-more\" />\n                </div>\n              </div>\n            </form>\n\n            <div className=\"flex items-center space-x-2\">\n              <FunnelIcon className=\"h-5 w-5 text-gray-400\" />\n              <div className=\"flex rounded-md shadow-sm\">\n                <button\n                  onClick={() => handleStatusFilter('all')}\n                  className={clsx(\n                    'px-4 py-2 text-sm font-medium rounded-l-md border',\n                    filterStatus === 'all'\n                      ? 'bg-primary-600 text-white border-primary-600'\n                      : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\n                  )}\n                >\n                  全部\n                </button>\n                <button\n                  onClick={() => handleStatusFilter('unread')}\n                  className={clsx(\n                    'px-4 py-2 text-sm font-medium border-t border-b',\n                    filterStatus === 'unread'\n                      ? 'bg-primary-600 text-white border-primary-600'\n                      : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\n                  )}\n                >\n                  未讀\n                </button>\n                <button\n                  onClick={() => handleStatusFilter('replied')}\n                  className={clsx(\n                    'px-4 py-2 text-sm font-medium rounded-r-md border',\n                    filterStatus === 'replied'\n                      ? 'bg-primary-600 text-white border-primary-600'\n                      : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\n                  )}\n                >\n                  已回覆\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {selectedContacts.length > 0 && (\n            <div className=\"flex items-center justify-between bg-primary-50 px-4 py-2 rounded-md\">\n              <span className=\"text-sm text-primary-700\">\n                已選擇 {selectedContacts.length} 個項目\n              </span>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={handleBulkMarkAsRead}\n                  className=\"text-sm font-medium text-primary-600 hover:text-primary-500\"\n                >\n                  標記為已讀\n                </button>\n                <button\n                  onClick={() => handleDelete(selectedContacts)}\n                  className=\"text-sm font-medium text-red-600 hover:text-red-500\"\n                >\n                  封存\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Contacts Table */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th scope=\"col\" className=\"px-6 py-3 text-left\">\n                <input\n                  type=\"checkbox\"\n                  checked={selectedContacts.length === contacts.length && contacts.length > 0}\n                  onChange={toggleSelectAll}\n                  className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n                />\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                聯絡人\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                主旨 / 訊息\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                狀態\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                時間\n              </th>\n              <th scope=\"col\" className=\"relative px-6 py-3\">\n                <span className=\"sr-only\">Actions</span>\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {contacts.map((contact) => (\n              <tr\n                key={contact.id}\n                className={clsx(\n                  'hover:bg-gray-50 cursor-pointer',\n                  !contact.is_read && 'bg-blue-50'\n                )}\n                onClick={() => handleView(contact)}\n              >\n                <td className=\"px-6 py-4 whitespace-nowrap\" onClick={(e) => e.stopPropagation()}>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedContacts.includes(contact.id)}\n                    onChange={(e) => {\n                      if (e.target.checked) {\n                        setSelectedContacts([...selectedContacts, contact.id]);\n                      } else {\n                        setSelectedContacts(selectedContacts.filter(id => id !== contact.id));\n                      }\n                    }}\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n                  />\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0\">\n                      {!contact.is_read ? (\n                        <EnvelopeIcon className=\"h-5 w-5 text-blue-600\" />\n                      ) : (\n                        <EnvelopeOpenIcon className=\"h-5 w-5 text-gray-400\" />\n                      )}\n                    </div>\n                    <div className=\"ml-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {contact.name}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {contact.email}\n                      </div>\n                      {contact.phone && (\n                        <div className=\"text-sm text-gray-500 flex items-center\">\n                          <PhoneIcon className=\"h-3 w-3 mr-1\" />\n                          {contact.phone}\n                        </div>\n                      )}\n                      {contact.company && (\n                        <div className=\"text-sm text-gray-500 flex items-center\">\n                          <BuildingOfficeIcon className=\"h-3 w-3 mr-1\" />\n                          {contact.company}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4\">\n                  <div className=\"text-sm text-gray-900\">\n                    {contact.subject && (\n                      <div className=\"font-medium\">{contact.subject}</div>\n                    )}\n                    <div className=\"text-gray-500 line-clamp-2\">\n                      {contact.message}\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center space-x-2\">\n                    {!contact.is_read && (\n                      <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\">\n                        未讀\n                      </span>\n                    )}\n                    {contact.is_replied && (\n                      <span className=\"inline-flex items-center\">\n                        <CheckCircleIcon className=\"h-4 w-4 text-green-500\" />\n                        <span className=\"ml-1 text-xs text-gray-500\">已回覆</span>\n                      </span>\n                    )}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {new Date(contact.created_at).toLocaleDateString()}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\" onClick={(e) => e.stopPropagation()}>\n                  <button\n                    onClick={() => handleDelete([contact.id])}\n                    className=\"p-2 rounded-md transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50\"\n                    title=\"封存\"\n                  >\n                    <TrashIcon className=\"h-5 w-5\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {contacts.length === 0 && !loading && (\n          <div className=\"text-center py-12\">\n            <EnvelopeIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <p className=\"mt-2 text-gray-500\">沒有找到符合條件的聯絡表單</p>\n          </div>\n        )}\n      </div>\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"mt-6 flex items-center justify-between\">\n          <div className=\"flex-1 flex justify-between sm:hidden\">\n            <button\n              onClick={() => updateFilters({ page: currentPage - 1 })}\n              disabled={currentPage === 1}\n              className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              上一頁\n            </button>\n            <button\n              onClick={() => updateFilters({ page: currentPage + 1 })}\n              disabled={currentPage === totalPages}\n              className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              下一頁\n            </button>\n          </div>\n          <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-center\">\n            <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\n              {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\n                <button\n                  key={page}\n                  onClick={() => updateFilters({ page })}\n                  className={clsx(\n                    'relative inline-flex items-center px-4 py-2 border text-sm font-medium',\n                    page === currentPage\n                      ? 'z-10 bg-primary-50 border-primary-500 text-primary-600'\n                      : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                  )}\n                >\n                  {page}\n                </button>\n              ))}\n            </nav>\n          </div>\n        </div>\n      )}\n\n      {/* View Contact Modal */}\n      <Dialog open={!!viewingContact} onClose={() => setViewingContact(null)} className=\"relative z-50\">\n        <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n        <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n          <Dialog.Panel className=\"mx-auto max-w-2xl w-full bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto\">\n            {viewingContact && (\n              <div className=\"p-6\">\n                <Dialog.Title className=\"text-lg font-medium text-gray-900 mb-4 flex items-center justify-between\">\n                  聯絡表單詳情\n                  <div className=\"flex items-center space-x-2\">\n                    {!viewingContact.is_replied && (\n                      <>\n                        <button\n                          onClick={() => handleReply(viewingContact)}\n                          className=\"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                        >\n                          <ChatBubbleLeftRightIcon className=\"h-4 w-4 mr-1\" />\n                          回覆\n                        </button>\n                        <button\n                          onClick={() => handleMarkAsReplied(viewingContact.id)}\n                          className=\"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                        >\n                          <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\n                          標記已回覆\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </Dialog.Title>\n                \n                <div className=\"space-y-4\">\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\n                    <h3 className=\"text-sm font-medium text-gray-900 mb-2\">聯絡人資訊</h3>\n                    <dl className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500\">姓名</dt>\n                        <dd className=\"text-sm text-gray-900\">{viewingContact.name}</dd>\n                      </div>\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500\">Email</dt>\n                        <dd className=\"text-sm text-gray-900\">\n                          <a href={`mailto:${viewingContact.email}`} className=\"text-primary-600 hover:text-primary-500\">\n                            {viewingContact.email}\n                          </a>\n                        </dd>\n                      </div>\n                      {viewingContact.phone && (\n                        <div>\n                          <dt className=\"text-sm font-medium text-gray-500\">電話</dt>\n                          <dd className=\"text-sm text-gray-900\">\n                            <a href={`tel:${viewingContact.phone}`} className=\"text-primary-600 hover:text-primary-500\">\n                              {viewingContact.phone}\n                            </a>\n                          </dd>\n                        </div>\n                      )}\n                      {viewingContact.company && (\n                        <div>\n                          <dt className=\"text-sm font-medium text-gray-500\">公司</dt>\n                          <dd className=\"text-sm text-gray-900\">{viewingContact.company}</dd>\n                        </div>\n                      )}\n                    </dl>\n                  </div>\n\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-900 mb-2\">訊息內容</h3>\n                    {viewingContact.subject && (\n                      <p className=\"text-sm font-medium text-gray-700 mb-2\">主旨: {viewingContact.subject}</p>\n                    )}\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <p className=\"text-sm text-gray-900 whitespace-pre-wrap\">{viewingContact.message}</p>\n                    </div>\n                  </div>\n\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-900 mb-2\">備註</h3>\n                    <div className=\"relative\">\n                      <div className=\"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more\"></div>\n                      <textarea\n                        value={notes}\n                        onChange={(e) => setNotes(e.target.value)}\n                        rows={3}\n                        className=\"w-full px-4 py-3 pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none resize-none\"\n                        placeholder=\"新增內部備註...\"\n                      />\n                    </div>\n                    {notes !== viewingContact.notes && (\n                      <button\n                        onClick={handleUpdateNotes}\n                        className=\"mt-2 bg-primary-more text-white px-6 py-2 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors\"\n                      >\n                        儲存備註\n                      </button>\n                    )}\n                  </div>\n\n                  <div className=\"border-t pt-4\">\n                    <dl className=\"grid grid-cols-1 gap-2 sm:grid-cols-2 text-sm\">\n                      <div>\n                        <dt className=\"font-medium text-gray-500\">提交時間</dt>\n                        <dd className=\"text-gray-900\">\n                          {new Date(viewingContact.created_at).toLocaleString()}\n                        </dd>\n                      </div>\n                      {viewingContact.read_at && (\n                        <div>\n                          <dt className=\"font-medium text-gray-500\">已讀時間</dt>\n                          <dd className=\"text-gray-900\">\n                            {new Date(viewingContact.read_at).toLocaleString()}\n                            {viewingContact.read_by_name && ` by ${viewingContact.read_by_name}`}\n                          </dd>\n                        </div>\n                      )}\n                      {viewingContact.replied_at && (\n                        <div>\n                          <dt className=\"font-medium text-gray-500\">回覆時間</dt>\n                          <dd className=\"text-gray-900\">\n                            {new Date(viewingContact.replied_at).toLocaleString()}\n                            {viewingContact.replied_by_name && ` by ${viewingContact.replied_by_name}`}\n                          </dd>\n                        </div>\n                      )}\n                      {viewingContact.source && (\n                        <div>\n                          <dt className=\"font-medium text-gray-500\">來源</dt>\n                          <dd className=\"text-gray-900\">{viewingContact.source}</dd>\n                        </div>\n                      )}\n                    </dl>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 flex justify-center\">\n                  <button\n                    onClick={() => setViewingContact(null)}\n                    className=\"bg-gray-500 text-white px-16 py-4 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors\"\n                  >\n                    關閉\n                  </button>\n                </div>\n              </div>\n            )}\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n\n      {/* Reply Modal */}\n      <Dialog open={!!replyingContact} onClose={() => setReplyingContact(null)} className=\"relative z-50\">\n        <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n        <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n          <Dialog.Panel className=\"mx-auto max-w-2xl w-full bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto\">\n            {replyingContact && (\n              <div className=\"p-6\">\n                <Dialog.Title className=\"text-lg font-medium text-gray-900 mb-4\">\n                  回覆聯絡表單 - {replyingContact.name}\n                </Dialog.Title>\n                \n                <div className=\"space-y-4\">\n                  {/* Original Message */}\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\n                    <h3 className=\"text-sm font-medium text-gray-900 mb-2\">原始訊息</h3>\n                    <div className=\"text-sm text-gray-700\">\n                      <p><strong>來自:</strong> {replyingContact.name} ({replyingContact.email})</p>\n                      {replyingContact.subject && <p><strong>主旨:</strong> {replyingContact.subject}</p>}\n                      <div className=\"mt-2 p-3 bg-white border border-gray-200 rounded\">\n                        <p className=\"whitespace-pre-wrap\">{replyingContact.message}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Reply Message */}\n                  <div>\n                    <label htmlFor=\"reply-message\" className=\"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider\">\n                      回覆內容 <span className=\"text-red-500\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <div className=\"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more\"></div>\n                      <textarea\n                        id=\"reply-message\"\n                        value={replyMessage}\n                        onChange={(e) => setReplyMessage(e.target.value)}\n                        rows={8}\n                        className=\"w-full px-4 py-3 pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none resize-none\"\n                        placeholder=\"請輸入您的回覆...\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  {/* Notes */}\n                  <div>\n                    <label htmlFor=\"reply-notes\" className=\"block text-content-mobile lg:text-content-desktop font-medium text-gray-700 mb-1 tracking-wider\">\n                      內部備註\n                    </label>\n                    <div className=\"relative\">\n                      <div className=\"absolute left-0 top-0 bottom-0 w-[2px] bg-primary-more\"></div>\n                      <textarea\n                        id=\"reply-notes\"\n                        value={replyNotes}\n                        onChange={(e) => setReplyNotes(e.target.value)}\n                        rows={3}\n                        className=\"w-full px-4 py-3 pl-6 bg-gray-100 border-0 text-content-mobile lg:text-content-desktop focus:ring-0 focus:outline-none resize-none\"\n                        placeholder=\"新增內部備註（選填）...\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 flex justify-center space-x-4\">\n                  <button\n                    onClick={() => setReplyingContact(null)}\n                    className=\"bg-gray-500 text-white px-16 py-4 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors\"\n                  >\n                    取消\n                  </button>\n                  <button\n                    onClick={handleSendReply}\n                    disabled={!replyMessage.trim()}\n                    className=\"bg-primary-more text-white px-16 py-4 text-content-mobile lg:text-content-desktop font-medium tracking-wider hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <ChatBubbleLeftRightIcon className=\"h-4 w-4 mr-2 inline\" />\n                    發送回覆\n                  </button>\n                </div>\n              </div>\n            )}\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n\n      {/* Archive Confirmation Modal */}\n      <Dialog open={archiveConfirmOpen} onClose={() => setArchiveConfirmOpen(false)} className=\"relative z-50\">\n        <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n        <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n          <Dialog.Panel className=\"mx-auto max-w-md w-full bg-white rounded-lg shadow-xl p-6\">\n            <div className=\"flex items-center mb-4\">\n              <div className=\"flex-shrink-0\">\n                <TrashIcon className=\"h-6 w-6 text-red-600\" />\n              </div>\n              <div className=\"ml-3\">\n                <Dialog.Title className=\"text-lg font-medium text-gray-900\">\n                  確認封存\n                </Dialog.Title>\n              </div>\n            </div>\n            \n            <div className=\"mb-6\">\n              <p className=\"text-sm text-gray-600\">\n                您確定要封存{archiveTargetIds.length === 1 ? '這個' : `這 ${archiveTargetIds.length} 個`}聯絡表單嗎？\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                封存後的表單將不會在列表中顯示，但資料會保留在系統中以供查閱。\n              </p>\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setArchiveConfirmOpen(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                取消\n              </button>\n              <button\n                onClick={confirmArchive}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n              >\n                確認封存\n              </button>\n            </div>\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AdminContacts;"],"names":["ChatBubbleLeftRightIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","DocumentArrowDownIcon","EnvelopeOpenIcon","FunnelIcon","PhoneIcon","AdminContacts","searchParams","setSearchParams","useSearchParams","contacts","setContacts","useState","loading","setLoading","totalPages","setTotalPages","currentPage","setCurrentPage","searchTerm","setSearchTerm","filterStatus","setFilterStatus","selectedContacts","setSelectedContacts","viewingContact","setViewingContact","deleteConfirmIds","setDeleteConfirmIds","notes","setNotes","replyingContact","setReplyingContact","replyMessage","setReplyMessage","replyNotes","setReplyNotes","archiveConfirmOpen","setArchiveConfirmOpen","archiveTargetIds","setArchiveTargetIds","useEffect","filters","fetchContacts","response","contactService","error","toast","updateFilters","newFilters","params","key","value","handleSearch","e","handleStatusFilter","status","handleView","contact","c","handleUpdateNotes","handleReply","handleSendReply","handleMarkAsReplied","id","handleDelete","ids","confirmArchive","handleBulkMarkAsRead","handleExport","blob","url","a","toggleSelectAll","jsx","LoadingSpinner","jsxs","MagnifyingGlassIcon","clsx","EnvelopeIcon","BuildingOfficeIcon","CheckCircleIcon","TrashIcon","_","i","page","Dialog","Fragment"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}