{"version":3,"file":"index-DI9JzSqK.js","sources":["../../src/pages/Development/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { toast } from 'react-hot-toast';\nimport PageBanner from '@/components/Layout/PageBanner';\nimport MenuButton from '@/components/Layout/MenuButton';\nimport NavigationMenu from '@/components/Layout/NavigationMenu';\nimport projectService from '@/services/project.service';\nimport { getImageUrl } from '@/utils/image';\nimport { Project } from '@/types';\n\n\n\nconst DevelopmentPage: React.FC = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [scrollY, setScrollY] = useState(0);\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n\n\n  useEffect(() => {\n    const handleScroll = () => setScrollY(window.scrollY);\n    \n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // 獲取規劃中專案數據\n  useEffect(() => {\n    const fetchPlanningProjects = async () => {\n      try {\n        setLoading(true);\n        const response = await projectService.getProjects({\n          display_page: '開發專區',\n          orderBy: 'created_at',\n          orderDir: 'DESC',\n          limit: 10\n        });\n\n        if (response.success && response.data) {\n          setProjects(response.data.items);\n        }\n      } catch (error) {\n        console.error('Error fetching planning projects:', error);\n        toast.error('無法載入開發專案');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPlanningProjects();\n  }, []);\n\n\n  const BANNER_HEIGHT = 288;\n\n  const bannerConfig = {\n    logoSection: {\n      iconSrc: \"/images/logo-icon-brand.svg\",\n      iconAlt: \"澤暘建設\",\n      subtitle: \"LAND DERVELOPMENT\",\n      title: \"開發專區\"\n    },\n    centralContent: {\n      text: \"精挑細選市中心黃金地段，打造品質卓越的高端住宅代表作\\n以下為澤暘籌備中的都更專案，敬請期待\"\n    },\n    backgroundImage: \"/images/development/top-bn-develop.png\"\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>開發專區 - 澤暘建設</title>\n        <meta name=\"description\" content=\"精挑細選市中心黃金地段，打造品質卓越的高端住宅代表作\" />\n      </Helmet>\n\n      {/* Hero Section */}\n      <PageBanner config={bannerConfig}>\n        {/* Menu Button */}\n        <MenuButton \n          isOpen={isMenuOpen} \n          onClick={() => setIsMenuOpen(!isMenuOpen)}\n          color={scrollY > BANNER_HEIGHT ? 'dark' : 'light'}\n        />\n        \n        {/* Navigation Menu */}\n        <NavigationMenu \n          isOpen={isMenuOpen} \n          onClose={() => setIsMenuOpen(false)} \n        />\n      </PageBanner>\n\n      {/* Development Projects Section */}\n      <section className=\"py-16 md:py-24 bg-white\">\n        <div className=\"container mx-auto px-6 lg:px-8\">\n          {loading ? (\n            // 載入中顯示骨架畫面\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n              {Array.from({ length: 3 }).map((_, index) => (\n                <div key={`loading-${index}`} className=\"relative group\">\n                  <div className=\"relative aspect-[4/5] overflow-hidden\">\n                    <div className=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse relative\">\n                      <div className=\"absolute inset-0 flex items-center justify-center\">\n                        <div className=\"text-gray-500\">載入中...</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : projects.length > 0 ? (\n            // 顯示專案卡片\n            <div className={`gap-8 ${\n              projects.length < 3 \n                ? 'flex flex-wrap justify-center' \n                : 'grid grid-cols-1 md:grid-cols-3'\n            }`}>\n              {projects.map((project) => (\n                <div key={project.id} className={`relative group ${\n                  projects.length < 3 ? 'w-full max-w-sm md:max-w-md' : ''\n                }`}>\n                  <div className=\"relative aspect-[4/5] overflow-hidden\">\n                    {/* Building Image */}\n                    {project.main_image ? (\n                      <img \n                        src={getImageUrl(project.main_image.file_path)}\n                        alt={project.title}\n                        className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105\"\n                        onError={(e) => {\n                          // 如果主圖載入失敗，嘗試使用第一張圖片\n                          if (project.images && project.images.length > 0) {\n                            e.currentTarget.src = getImageUrl(project.images[0].file_path);\n                          } else {\n                            // 如果沒有圖片，顯示佔位符\n                            e.currentTarget.style.display = 'none';\n                            e.currentTarget.parentElement!.innerHTML = `\n                              <div class=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center\">\n                                <div class=\"text-gray-500\">${project.title}</div>\n                              </div>\n                            `;\n                          }\n                        }}\n                      />\n                    ) : project.images && project.images.length > 0 ? (\n                      <img \n                        src={getImageUrl(project.images[0].file_path)}\n                        alt={project.title}\n                        className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105\"\n                        onError={(e) => {\n                          e.currentTarget.style.display = 'none';\n                          e.currentTarget.parentElement!.innerHTML = `\n                            <div class=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center\">\n                              <div class=\"text-gray-500\">${project.title}</div>\n                            </div>\n                          `;\n                        }}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center\">\n                        <div className=\"text-gray-500\">{project.title}</div>\n                      </div>\n                    )}\n                    \n                    {/* Gradient Overlay */}\n                    <div \n                      className=\"absolute inset-0\"\n                      style={{\n                        background: 'linear-gradient(to bottom, transparent 0%, rgba(200, 160, 99, 0.8) 100%)'\n                      }}\n                    />\n                    \n                    {/* Project location Overlay */}\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <h3 className=\"text-white text-xl md:text-2xl font-bold text-center px-4\">\n                        {project.location}\n                      </h3>\n                    </div>\n                  </div>\n                  \n                  {/* Coming Soon Button - 超出卡片區塊 */}\n                  <div className=\"absolute -bottom-6 -left-6 z-10\">\n                    <div className=\"bg-[#c8a063] text-white p-4 shadow-lg\">\n                      <div className=\"text-center mb-2\">\n                        <div className=\"text-xs lg:text-sm font-bold tracking-widest\">COMING SOON</div>\n                      </div>\n                      <div className=\"text-center\">\n                        <div className=\"text-content-mobile lg:text-content-desktop font-bold min-w-[8.25em] tracking-wider\">\n                          敬請期待\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"w-full absolute top-[50%] -translate-y-full -right-2 flex justify-center items-center\">\n                      <img src=\"/images/icons/icons_more_arrow.png\" alt=\"\" />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            // 沒有專案時顯示\n            <div className=\"text-center py-12\">\n              <div className=\"text-gray-500 text-lg mb-4\">目前暫無開發專案</div>\n              <div className=\"text-gray-400\">敬請期待我們即將推出的精彩專案</div>\n            </div>\n          )}\n        </div>\n      </section>\n\n    </>\n  );\n};\n\nexport default DevelopmentPage;"],"names":["DevelopmentPage","isMenuOpen","setIsMenuOpen","useState","scrollY","setScrollY","projects","setProjects","loading","setLoading","useEffect","handleScroll","response","projectService","error","toast","BANNER_HEIGHT","bannerConfig","jsxs","Fragment","Helmet","jsx","PageBanner","MenuButton","NavigationMenu","_","index","project","getImageUrl","e"],"mappings":"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"}