# 前端路由問題臨時解決方案

## 🔍 問題分析

目前所有子頁面都顯示 "It works! NodeJS 18.20.8" 是因為：

1. **Node.js 應用程式設定錯誤**
   - 啟動檔案在根目錄而非 backend/ 資料夾
   - Node.js 攔截了所有 HTTP 請求

2. **伺服器配置優先級**
   - cPanel 的 Node.js 設定優先於 .htaccess
   - 所有請求都被導向 Node.js 應用程式

## 🛠️ 解決方案

### 方案 1：正確設定 Node.js 應用程式（推薦）

在 cPanel Node.js 設定中：

1. **修改 Application startup file**：
   ```
   backend/server.js
   ```
   （不是 server.js）

2. **新增環境變數**：
   - DB_NAME、DB_USER、DB_PASSWORD（資料庫資訊）
   - JWT_SECRET、CLIENT_URL 等

3. **重啟應用程式**

### 方案 2：暫時停用 Node.js 應用程式

如果暫時不需要後端功能：

1. 在 cPanel 中點擊 "STOP APP" 按鈕
2. 這樣前端路由就能正常運作
3. 但 API 功能會無法使用

### 方案 3：使用 Hash Router（臨時方案）

修改前端路由為 Hash 模式：
- `/admin` → `/#/admin`
- `/projects` → `/#/projects`

這樣可以避開伺服器端路由問題。

## 📝 立即可行的步驟

### 選項 A：停用 Node.js（如果不需要 API）
```
1. 進入 cPanel
2. 找到 Node.js 應用程式
3. 點擊 "STOP APP"
4. 網站前端即可正常顯示
```

### 選項 B：修正 Node.js 設定（完整功能）
```
1. 解壓縮 backend-deploy.tar.gz
2. 修改 startup file 為 backend/server.js
3. 新增所有環境變數
4. 重啟應用程式
```

## ⚠️ 注意事項

### 目前狀態：
- ✅ 前端檔案已正確部署
- ✅ 後端 Node.js 正在運行
- ❌ 路由配置錯誤（Node.js 攔截所有請求）

### 預期結果：
- 前端路由（/, /admin, /projects）→ 顯示 React 應用程式
- API 路由（/api/*）→ 由 Node.js 處理

## 🔧 偵錯方法

測試前端是否正常：
1. 暫時停用 Node.js 應用程式
2. 訪問 https://zeyanggroup.com.tw/admin
3. 應該看到 React 管理介面，而非 "It works!"

測試 API 是否正常：
1. 訪問 https://zeyanggroup.com.tw/api/health
2. 應該返回 JSON 格式的健康檢查

## 💡 長期解決方案

建議使用子域名分離前後端：
- 前端：https://zeyanggroup.com.tw
- 後端 API：https://api.zeyanggroup.com.tw

或使用路徑分離：
- 前端：https://zeyanggroup.com.tw/*
- 後端：https://zeyanggroup.com.tw/api/*

這樣可以避免路由衝突問題。

---

**重要**：目前最快的解決方法是在 cPanel 中修正 Node.js 應用程式的啟動檔案路徑為 `backend/server.js`。